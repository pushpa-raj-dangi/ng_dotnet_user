<div class="container mx-auto p-4">
  <h6 class="text-xl font-bold mb-4">User Table</h6>
  <div class="flex justify-end mb-4">
    <a [routerLink]="['/users/create']"
      class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Create
      New</a>
  </div>
  <div class="overflow-x-auto">
    <table class="min-w-full bg-white border border-gray-300">
      <thead>
        <tr class="bg-gray-100 border-b">
          <th (click)="onSort('id')"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer">
            ID
            <span *ngIf="sortColumn === 'id'">{{ sortDirection === 'asc' ? '▲' : '▼' }}</span>
          </th>
          <th (click)="onSort('name')"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer">
            Name
            <span *ngIf="sortColumn === 'name'">{{ sortDirection === 'asc' ? '▲' : '▼' }}</span>
          </th>
          <th (click)="onSort('age')"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer">
            Age
            <span *ngIf="sortColumn === 'age'">{{ sortDirection === 'asc' ? '▲' : '▼' }}</span>
          </th>
          <th (click)="onSort('phone')"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer">
            Phone
            <span *ngIf="sortColumn === 'phone'">{{ sortDirection === 'asc' ? '▲' : '▼' }}</span>
          </th>
          <th (click)="onSort('status')"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer">
            Status
            <span *ngIf="sortColumn === 'status'">{{ sortDirection === 'asc' ? '▲' : '▼' }}</span>
          </th>
          <th (click)="onSort('designation')"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer">
            Designation
            <span *ngIf="sortColumn === 'designation'">{{ sortDirection === 'asc' ? '▲' : '▼' }}</span>
          </th>
        </tr>
      </thead>
      <tbody>
        @for( user of users$ | async; track $index){
        <tr class="border-b">
          <td class="px-6 py-4 whitespace-nowrap">{{ user.id }}</td>
          <td class="px-6 py-4 whitespace-nowrap">{{ user.name }}</td>
          <td class="px-6 py-4 whitespace-nowrap">{{ user.age }}</td>
          <td class="px-6 py-4 whitespace-nowrap">{{ user.phone || '' }}</td>
          <td class="px-6 py-4 whitespace-nowrap">
            <span>
              <span *ngIf="user.status == '0'" class="bg-green-500 text-white py-1 px-2 rounded-full text-xs">{{
                user.status |status }}</span>
              <span *ngIf="user.status == '1'" class="bg-red-500 text-white py-1 px-2 rounded-full text-xs">{{
                user.status | status }}</span>

            </span>
          </td>
          <td class="px-6 py-4 whitespace-nowrap">{{ user.designation || '-' }}</td>
        </tr>
        }
        @empty{
        <tr>
          <td class="px-6 py-4 whitespace-nowrap" colspan="6">No data found</td>
        </tr>
        }
      </tbody>
    </table>
  </div>
</div>